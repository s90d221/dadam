<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<aside class="sidebar"
       aria-label="가족 정보 및 일정 사이드바"
       th:fragment="sidebar">

    <!-- 가족 멤버 / 초대 -->
    <section class="card card-family">
        <header class="card-header">
            <div class="card-header-left">
                <h2 class="card-title">우리 가족</h2>
                <p class="card-subtitle">
                    프로필을 꾸미고, 가족을 초대해 보세요.
                </p>
            </div>
            <button class="btn btn-ghost" id="open-invite" type="button">
                초대 코드
            </button>
        </header>

        <div class="family-grid" id="family-grid">
            <!-- JS에서 멤버 카드들과 '멤버 추가' 버튼을 동적으로 렌더링 -->
        </div>
    </section>

    <!-- 캘린더 + 일정 -->
    <section class="card card-calendar">
        <header class="card-header">
            <div class="card-header-left">
                <h2 class="card-title">11월 가족 캘린더</h2>
                <p class="card-subtitle">
                    같이 밥 먹는 날, 여행, 기념일을 한눈에.
                </p>
            </div>
            <button class="btn btn-primary btn-sm" id="open-schedule-modal" type="button">
                약속 만들기
            </button>
        </header>

        <div class="calendar-shell">
            <div class="calendar-header">
                <button class="ghost-icon-btn" id="calendar-prev" type="button" aria-label="이전 달">
                    <span class="fh-icon-chevron-left"></span>
                </button>
                <div class="calendar-title" id="calendar-title">2025년 11월</div>
                <button class="ghost-icon-btn" id="calendar-next" type="button" aria-label="다음 달">
                    <span class="fh-icon-chevron-right"></span>
                </button>
            </div>
            <div class="calendar-grid" id="calendar-grid">
                <!-- dadam.ui.js에서 달력 렌더링 -->
            </div>
        </div>

        <div class="event-list-header">
            <p class="modal-eyebrow" style="margin: 0;">다가오는 약속</p>
            <p class="helper-text" style="margin: 0;">오늘 이후 일정만 모아 보여드려요.</p>
        </div>
        <!-- ✅ 일정 리스트: JS가 API 결과로 렌더 -->
        <div class="event-list" id="event-list"></div>
    </section>

    <!-- 최근 활동 / 알림 미리보기 -->
    <section class="card card-activity">
        <header class="card-header">
            <div class="card-header-left">
                <h2 class="card-title">최근 활동</h2>
                <p class="card-subtitle">
                    누가 답변을 올리고, 댓글을 남겼는지 확인해요.
                </p>
            </div>
            <button class="ghost-icon-btn" id="open-notifications-from-card" type="button">
                <span>전체 보기</span>
                <span class="fh-icon-chevron-right"></span>
            </button>
        </header>

        <ul class="activity-list" id="activity-list"></ul>
    </section>
</aside>
</body>
</html>
